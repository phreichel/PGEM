//*************************************************************************************************
package pgem.model.physics;
//*************************************************************************************************

import javax.vecmath.Vector3f;

//*************************************************************************************************
public class AlignedBox {

	//=============================================================================================
	public final Vector3f lo = new Vector3f();
	public final Vector3f up = new Vector3f();
	//=============================================================================================

	//=============================================================================================
	public void set(Sphere s) {
		
		final Vector3f a = new Vector3f(s.location);
		final Vector3f b = new Vector3f(s.location);
		
		a.x -= s.radius;
		a.y -= s.radius;
		a.z -= s.radius;
		
		b.x += s.radius;
		b.y += s.radius;
		b.z += s.radius;
		
		set(a, b);
		
	}
	//=============================================================================================
	
	//=============================================================================================
	public void set(Vector3f a, Vector3f b) {
		
		lo.x = Math.min(a.x, b.x);
		lo.y = Math.min(a.y, b.y);
		lo.z = Math.min(a.z, b.z);
		
		up.x = Math.max(a.x, b.x);
		up.y = Math.max(a.y, b.y);
		up.z = Math.max(a.z, b.z);
		
	}
	//=============================================================================================

	//=============================================================================================
	public void set(
			float ax, float ay, float az,
			float bx, float by, float bz
	) {

		lo.x = Math.min(ax, bx);
		lo.y = Math.min(ay, by);
		lo.z = Math.min(az, bz);
		
		up.x = Math.max(ax, bx);
		up.y = Math.max(ay, by);
		up.z = Math.max(az, bz);
		
	}
	//=============================================================================================
	
	//=============================================================================================
	public void setd(Vector3f position, Vector3f extent) {
		final Vector3f position2 = new Vector3f(position);
		position2.add(extent);
		set(position, position2);
	}
	//=============================================================================================

	//=============================================================================================
	public void getmid(Vector3f target) {
		target.set(lo);
		target.add(up);
		target.scale(.5f);
	}
	//=============================================================================================

	//=============================================================================================
	public boolean contains(AlignedBox box) {
		return
			this.lo.x <= box.lo.x &&
			this.lo.y <= box.lo.y &&
			this.lo.z <= box.lo.z &&
			this.up.x >= box.up.x &&
			this.up.y >= box.up.y &&
			this.up.z >= box.up.z;
	}
	//=============================================================================================
	
}
//*************************************************************************************************
