//*************************************************************************************************
package pgem.gui;
//*************************************************************************************************

import javax.vecmath.Color3f;
import javax.vecmath.Color4f;

import pgem.paint.Graphics;

//*************************************************************************************************
public class Label extends Widget<Label> {

	//=============================================================================================
	public static final Label createLabel() {
		return new Label();
	}
	//=============================================================================================

	//=============================================================================================
	public static final Label createLabel(String text) {
		var label = new Label();
		label.text(text);
		return label;
	}
	//=============================================================================================
	
	//=============================================================================================
	private String  text  = "TEXT";
	private String  font  = "default";
	private Align align = Align.CENTER;
	private Color4f color = new Color4f();
	//=============================================================================================
	
	//=============================================================================================
	public Label() {
		super();
	}
	//=============================================================================================

	//=============================================================================================
	public String text() {
		return text;
	}
	//=============================================================================================

	//=============================================================================================
	public void text(String text) {
		this.text = text;
	}
	//=============================================================================================

	//=============================================================================================
	public String font() {
		return font;
	}
	//=============================================================================================

	//=============================================================================================
	public void font(String font) {
		this.font = font;
	}
	//=============================================================================================

	//=============================================================================================
	public Align align() {
		return align;
	}
	//=============================================================================================
	
	//=============================================================================================
	public Label align(Align align) {
		this.align = align;
		return this;
	}
	//=============================================================================================

	//=============================================================================================
	public Color4f color() {
		return color;
	}
	//=============================================================================================

	//=============================================================================================
	public Label color(Color3f color) {
		this.color.set(
			color.x,
			color.y,
			color.z,
			1);
		return this;
	}
	//=============================================================================================
	
	//=============================================================================================
	public Label color(Color4f color) {
		this.color.set(
			color.x,
			color.y,
			color.z,
			color.w);
		return this;
	}
	//=============================================================================================

	//=============================================================================================
	public Label color(float r, float g, float b) {
		this.color.set(r, g, b, 1);
		return this;
	}
	//=============================================================================================
	
	//=============================================================================================
	public Label color(float r, float g, float b, float a) {
		this.color.set(r, g, b, a);
		return this;
	}
	//=============================================================================================

	//=============================================================================================
	protected void styleWidget(Style style) {
		color(style.get(StyleColor.LABEL_COLOR));
		font(style.get(StyleFont.LABEL).name());
	}
	//=============================================================================================
	
	//=============================================================================================
	protected void paintWidget(Graphics g) {
		g.color(color);
		var data = g.textMetrics(text, font, null);
		var x = switch (align) {
			case START -> 0;
			case CENTER -> (size().x - data.width()) * .5f;
			case END -> size().x - data.width();
		};
		var y = (size().y - data.height()) * .5f + data.descent();		
		g.text(x, y, text, font);
	}
	//=============================================================================================
	
}
//*************************************************************************************************
