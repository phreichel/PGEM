//*************************************************************************************************
package pgem.scene;
//*************************************************************************************************

import javax.vecmath.Matrix4f;
import javax.vecmath.Point3f;
import javax.vecmath.Vector3f;

import pgem.paint.Graphics;

//*************************************************************************************************
public class Transform extends Node {

	//=============================================================================================
	public final Matrix4f matrix = new Matrix4f();
	//=============================================================================================

	//=============================================================================================
	public Transform() {
		super();
		matrix.setIdentity();
	}
	//=============================================================================================

	//=============================================================================================
	public Transform(Node parent) {
		super(parent);
		matrix.setIdentity();
	}
	//=============================================================================================

	//=============================================================================================
	public void paint(Graphics g) {
		g.push();
		g.apply(matrix);
		paintNode(g);
		paintChildren(g);
		g.pop();
	}
	//=============================================================================================
	
	//=============================================================================================
	public void toWorld(Point3f src, Point3f dst) {
		super.toWorld(src, dst);
		matrix.transform(dst);
	}
	//=============================================================================================
	
	//=============================================================================================
	public void toWorld(Vector3f src, Vector3f dst) {
		super.toWorld(src, dst);
		matrix.transform(dst);
	}
	//=============================================================================================

}
//*************************************************************************************************
