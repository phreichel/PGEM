//*************************************************************************************************
package pgem.scene;
//*************************************************************************************************

import javax.vecmath.Matrix4f;

//*************************************************************************************************
public class Camera extends Node {

	//=============================================================================================
	public Camera() {
		super();
	}
	//=============================================================================================
	
	//=============================================================================================
	public Camera(Node parent) {
		super(parent);
	}
	//=============================================================================================

	//=============================================================================================
	public float fovy = 65f;
	public float near = .6f;
	public float far = 1000f;
	//=============================================================================================

	//=============================================================================================
	public void set(float fovy, float near, float far) {
		this.fovy = fovy;
		this.near = near;
		this.far = far;
	}
	//=============================================================================================

	//=============================================================================================
	public Matrix4f pov() {

		Matrix4f pov = new Matrix4f();
		pov.setIdentity();
		
		Node node = this.parent();
		while (node != null) {
			if (node instanceof Transform t) {
				pov.mul(t.matrix, pov);
			}
			node = node.parent();
		}

		pov.invert();
		
		return pov;
		
	}
	//=============================================================================================
	
}
//*************************************************************************************************
